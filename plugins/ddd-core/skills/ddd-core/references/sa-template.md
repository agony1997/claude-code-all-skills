# SA Domain Analysis Output Template

> Phase 2 structured output format. Read when producing SA deliverables.

## Full Document Template

```markdown
# 領域分析文件: [專案/功能名稱]

## 1. 分析概覽
- **分析範圍**: [描述]
- **輸入來源**: Event Storming / 業務需求 / 既有系統
- **限界上下文數量**: N 個
- **Use Case 數量**: N 個

## 2. 限界上下文定義

### 上下文: [名稱] Context

**職責**: [一句話描述這個上下文的業務職責]

**核心聚合**:
- [聚合 1]: [職責]
- [聚合 2]: [職責]

**通用語言術語**:
| 術語 | 定義 | 備註 |
|------|------|------|

**對外提供**:
- 事件: [發布的領域事件]
- 查詢: [提供的查詢介面]

**依賴**:
- 消費事件: [訂閱的領域事件]
- 呼叫介面: [依賴的外部介面]

## 3. 上下文映射 (Context Map)
[上下文間的關係]

## 4. Use Case 清單與聚合映射

### UC-001: [Use Case 名稱]

**Actor**: [使用者角色]
**觸發條件**: [什麼情境下觸發]
**所屬上下文**: [Bounded Context 名稱]
**涉及聚合**: [聚合名稱]

**主要流程**:
1. [步驟 1]
2. [步驟 2]
3. [步驟 3]

**替代流程**:
- [條件]: [替代步驟]

**命令→聚合→事件映射**:
| 步驟 | 命令 (Command) | 目標聚合 | 產生事件 (Event) |
|------|---------------|---------|-----------------|

**業務規則**:
- BR-001: [規則描述]
- BR-002: [規則描述]

## 5. 驗收標準 (Given/When/Then)

### UC-001: [Use Case 名稱]

#### AC-001: [場景名稱]（Happy Path）
```gherkin
Given [前置條件]
  And [額外條件]
When [使用者執行的動作]
Then [預期結果]
  And [額外預期結果]
```

#### AC-002: [場景名稱]（替代路徑）
```gherkin
Given [前置條件]
When [使用者執行的動作]
Then [預期的替代結果]
```

#### AC-003: [場景名稱]（錯誤路徑）
```gherkin
Given [前置條件]
When [使用者嘗試不合法的動作]
Then [預期的錯誤處理]
```

## 6. 通用語言詞彙表
| 中文術語 | 英文術語 | 定義 | 所屬上下文 | 相關聚合 | 備註 |
|---------|---------|------|-----------|---------|------|
| [術語] | [Term] | [精確定義] | [Context] | [Aggregate] | [備註] |

## 7. 非功能需求 (NFR)
- 效能: [需求]
- 安全性: [需求]
- 可用性: [需求]

## 8. 待釐清事項
- [Issue 1]
- [Issue 2]
```

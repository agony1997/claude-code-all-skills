---
name: reviewer
description: >
  專案規範審查員：讀取專案內的規範文件，執行程式碼合規審查。
  規範文件由使用者維護在專案中（如 .standards/ 目錄），skill 只負責審查工作流。
  首次啟用時會詢問規範文件位置。
  使用時機：實作完成後要求審查、CI 前檢查、程式碼合規確認、規範檢查。
  關鍵字：review, 審查, 規範, standards, compliance, 合規, 檢查, CI, pre-commit,
  code review, 程式碼審查, 規格檢查。
---

# 專案規範審查員 (Standards Reviewer)

> Skill = 審查工作流。規範內容由使用者維護在專案 repo 中。

## 流程

### 1. 定位規範文件

觸發後，按以下順序尋找專案規範：

1. **慣例路徑**：依序檢查 `.standards/`、`docs/standards/`、`standards/`
2. **CLAUDE.md 指示**：檢查專案的 CLAUDE.md 是否指定規範路徑
3. **找不到時**：使用 AskUserQuestion 詢問使用者規範文件位置

找到後，列出所有規範檔案並使用 Read 載入（Progressive Disclosure — 只載入需要的）。

**首次使用建議**：若專案尚無規範文件，提示使用者參考下方「專案端設置指南」建立。

### 2. 確認審查範圍

向使用者確認：
- 要審查哪些檔案？（指定檔案 / 最近修改的檔案 / 整個功能模組）
- 審查深度？（快速掃描 / 完整審查）

### 3. 執行審查

逐項核對程式碼，審查項目**以載入的規範文件內容為準**。

通用審查維度（依規範文件實際包含的章節調整）：

- **命名規範**：類別、方法、變數、檔案路徑、常數
- **架構規範**：架構模式、層級職責、相依方向
- **程式碼風格**：工具類別使用、錯誤處理、API 格式
- **資料庫規範**：Entity 對應、Migration、索引
- **前端規範**：元件結構、狀態管理、型別定義

> **可選整合** — 若已安裝 superpowers 插件，在產出報告前可搭配 `superpowers:verification-before-completion` 使用，確保審查的完整性。

### 4. 產出審查報告

```
## 審查報告

**專案**: <專案名稱>
**載入規範**: <規範檔案清單與路徑>
**審查範圍**: <檔案清單>
**審查時間**: <日期>

### 不合規項目

| # | 檔案 | 行號 | 規範項目 | 問題描述 | 建議修正 |
|---|------|------|----------|----------|----------|
| 1 | ... | ... | ... | ... | ... |

### 合規項目摘要

- [x] <通過的項目>

### 總結

- 審查項目數: N
- 合規: N
- 不合規: N
- 合規率: N%
```

> **可選整合** — 若已安裝 superpowers 插件，當審查發現需修復的問題時，可搭配 `superpowers:systematic-debugging` 使用，以系統化方式定位和修復問題。

## 專案端設置指南

在專案中建立規範文件：

```
your-project/
├── .standards/
│   ├── common.md          # 公司/團隊共通規範
│   └── project.md         # 本專案特有規範
├── src/
└── ...
```

多份規範檔案會全部載入，可自由組織（依公司/團隊/專案拆分）。

規範檔案建議包含的章節（按需取捨）：

- 命名規範（類別、方法、變數、檔案路徑、常數）
- 架構規範（架構模式、層級職責、相依方向）
- 程式碼風格（工具類別、錯誤處理、API 格式、日誌）
- 資料庫規範（Entity 對應、Migration 命名、索引）
- 前端規範（元件結構、狀態管理、型別定義）

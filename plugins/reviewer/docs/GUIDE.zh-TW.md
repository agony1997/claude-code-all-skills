# reviewer 技能使用指南

> 版本：1.1.0 | 最後更新：2026-02-26

## 這是什麼？

專案規範審查員 — 讀取你專案中的規範文件（如 `.standards/` 目錄），對程式碼進行合規審查。

**核心概念**：Skill = 審查工作流。規範內容由你維護在專案 repo 中，skill 本身不包含任何規範內容。

## 重要概念

| 概念 | 說明 |
|------|------|
| 規範文件 | 由你維護在專案中的 `.standards/` 目錄（或其他路徑） |
| 審查工作流 | skill 提供的 4 步驟流程：定位 → 確認範圍 → 執行 → 產出報告 |
| Progressive Disclosure | 只載入需要的規範檔案，減少 context 佔用 |

## 使用流程

```
觸發審查
   │
   ▼
┌─────────────────────────┐
│ Step 1: 定位規範文件     │
│ .standards/ → CLAUDE.md │
│ → 詢問使用者             │
└───────────┬─────────────┘
            ▼
┌─────────────────────────┐
│ Step 2: 確認審查範圍     │
│ 哪些檔案？審查深度？     │
└───────────┬─────────────┘
            ▼
┌─────────────────────────┐
│ Step 3: 執行審查         │
│ 逐項核對已載入的規範     │
└───────────┬─────────────┘
            ▼
┌─────────────────────────┐
│ Step 4: 產出審查報告     │
│ Markdown 表格 + 統計     │
└─────────────────────────┘
```

### 步驟 1：定位規範文件

觸發後，skill 會按順序尋找規範：

1. **慣例路徑**：`.standards/`、`docs/standards/`、`standards/`
2. **CLAUDE.md 指示**：檢查專案 CLAUDE.md 是否指定規範路徑
3. **詢問使用者**：以上都找不到時，直接詢問你

若專案尚無規範文件，會建議你建立（參見下方「專案端設置指南」）。

### 步驟 2：確認審查範圍

Skill 會詢問：

- **要審查哪些檔案？** — 指定檔案 / 最近修改的檔案 / 整個功能模組
- **審查深度？** — 快速掃描 / 完整審查

### 步驟 3：執行審查

以載入的規範文件內容為準逐項核對，通用審查維度包含：

- 命名規範（類別、方法、變數、檔案路徑、常數）
- 架構規範（架構模式、層級職責、相依方向）
- 程式碼風格（工具類別、錯誤處理、API 格式、日誌）
- 資料庫規範（Entity 對應、Migration 命名、索引）
- 前端規範（元件結構、狀態管理、型別定義）

### 步驟 4：產出審查報告

產出 Markdown 格式報告，包含：

- 專案資訊與載入的規範清單
- 不合規項目表格（檔案、行號、規範項目、問題描述、建議修正）
- 合規項目摘要
- 統計總結（審查數、合規數、不合規數、合規率）

## 專案端設置指南

在專案中建立規範文件目錄：

```
your-project/
├── .standards/
│   ├── common.md          # 公司/團隊共通規範
│   └── project.md         # 本專案特有規範
├── src/
└── ...
```

多份規範檔案會全部載入，可自由組織（依公司/團隊/專案拆分）。

規範檔案建議包含的章節（按需取捨）：

- 命名規範（類別、方法、變數、檔案路徑、常數）
- 架構規範（架構模式、層級職責、相依方向）
- 程式碼風格（工具類別、錯誤處理、API 格式、日誌）
- 資料庫規範（Entity 對應、Migration 命名、索引）
- 前端規範（元件結構、狀態管理、型別定義）

## 使用範例

```
# 基本使用
請幫我做 code review

# 指定範圍
請審查 src/services/ 目錄下最近修改的檔案

# 快速掃描
快速掃描一下 UserController.java 有沒有違反規範
```

## 檔案結構

```
plugins/reviewer/
├── .claude-plugin/
│   └── plugin.json                        # 插件設定（v1.1.0）
├── skills/reviewer/
│   ├── SKILL.md                           # AI 指令（英文，~60 行）
│   └── references/
│       └── review-report-template.md      # 審查報告模板 + 設置指南
└── docs/
    └── GUIDE.zh-TW.md                     # 本文件（人類指南）
```

## 常見問題

**Q: 規範文件放哪裡？**
A: 建議放在專案根目錄的 `.standards/` 資料夾。也支援 `docs/standards/` 和 `standards/`。

**Q: 可以有多份規範文件嗎？**
A: 可以，所有找到的規範文件都會載入。建議依公司/團隊/專案拆分。

**Q: Skill 會自動修正不合規的程式碼嗎？**
A: 不會自動修正，只會產出審查報告。若需要修正，可搭配 superpowers 插件的 `systematic-debugging` 使用。

**Q: 沒有規範文件怎麼辦？**
A: Skill 會提示你建立 `.standards/` 目錄，並提供建議的章節結構。
